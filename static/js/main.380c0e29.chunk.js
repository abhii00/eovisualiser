(this.webpackJsonpeovisualiser=this.webpackJsonpeovisualiser||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n.n(a),s=n(13),r=n(0),o=n(1),h=n(2),c=n(3),l=n(10),p=n.n(l),u=n(5),d=n(17),w=n(11),f=n(9),m=function(){function e(t,n,a,i,s,o){switch(Object(r.a)(this,e),this.raw_data=n,this.scale_factor=a,this.datapoints=[],this.scene=i,this.camera=s,this.renderer=o,this.sphere_geometry=new u.m(.01,2,2),this.sphere_material=new u.f,this.type=t,this.type){case"satellite-tle":this.processTLEData(),this.renderECFDataPoints()}}return Object(o.a)(e,[{key:"processTLEData",value:function(){for(var e=this.raw_data.split(/\r?\n/),t=new Date,n=f.b(t),a=0;a<(e.length-1)/3;a++){var i=3*a,s=f.d(e[i+1],e[i+2]),r=f.c(s,t);if(void 0!==r.position){var o=f.a(r.position,n),h=new u.r(o.x,o.z,o.y);h.multiplyScalar(this.scale_factor);var c=new u.e(this.sphere_geometry,this.sphere_material.clone());c.position.copy(h),Math.abs(c.position.z)<.05?c.material.color=new u.b(16711680):Math.abs(c.position.y)<.05?c.material.color=new u.b(65280):c.material.color=new u.b(16777215);var l=new v(e[i],c);this.datapoints.push(l)}}}},{key:"renderECFDataPoints",value:function(){var e,t=Object(w.a)(this.datapoints);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.scene.add(n.mesh),n.earthRotation(y())}}catch(a){t.e(a)}finally{t.f()}}}]),e}(),v=function(){function e(t,n){Object(r.a)(this,e),this.id=t,this.mesh=n,this.earthTilt()}return Object(o.a)(e,[{key:"earthTilt",value:function(){this.mesh.position.applyAxisAngle(new u.r(0,0,1),23.5*Math.PI/180)}},{key:"earthRotation",value:function(e){var t=new u.r(0,1,0).applyAxisAngle(new u.r(0,0,1),23.5*Math.PI/180);this.mesh.position.applyAxisAngle(t,e)}}]),e}();function y(){var e=new Date,t=e/864e5-e.getTimezoneOffset()/1440+2440587.5-2451545,n=280.46+.9856474*t,a=357.528+.9856003*t;return n=n%360*Math.PI/180,a=a%360*Math.PI/180,n+1.915*Math.sin(a)+.02*Math.sin(2*a)-Math.PI/2}var b=n.p+"static/media/earth_2k.981cc3e3.jpg";function j(e,t,n){var a=new u.j(16777215,1);a.position.set(80,0,0),e.add(a);var i=new u.m(1,60,60),s=new u.f({color:0,side:u.a}),r=new u.e(i,s);r.scale.set(100,100,100),e.add(r);var o=new u.f,h=new u.e(i,o);h.scale.set(2,2,2),h.position.set(80,0,0),e.add(h);var c=new u.g({map:g(b),metalness:.4,roughness:.8}),l=new u.e(i,c);l.rotation.set(0,y(),23.5*Math.PI/180,"ZYX"),e.add(l),function a(){requestAnimationFrame(a),n.render(e,t)}()}function g(e){return(new u.p).load(e)}var M=n.p+"static/media/test.73eab6d5.txt",O=n(12),k=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=function(e){var t=new u.l,n=new u.i(75,window.innerWidth/window.innerHeight,.1);n.position.copy(e);var a=new u.s;return a.setSize(window.innerWidth,window.innerHeight),a.shadowMap.enabled=!0,a.shadowMap.type=u.h,new d.a(n,a.domElement).update(),[t,n,a]}(new u.r(0,0,3)),t=Object(s.a)(e,3),n=t[0],a=t[1],i=t[2];this.mount.appendChild(i.domElement),j(n,a,i),fetch(M).then((function(e){return e.text()})).then((function(e){return new m("satellite-tle",e,1/6378,n,a,i)}))}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"app",ref:function(t){return e.mount=t}})}}]),n}(p.a.Component);n(24);i.a.render(Object(O.jsx)(k,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.380c0e29.chunk.js.map