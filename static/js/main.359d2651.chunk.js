(this.webpackJsonpeovisualiser=this.webpackJsonpeovisualiser||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a=n(16),i=n.n(a),s=n(8),r=n(0),o=n(1),c=n(2),h=n(3),u=n(12),l=n.n(u),d=n(5),v=n(17),w=n(10);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=e/864e5-e.getTimezoneOffset()/1440+2440587.5;switch(t){case"julian":return n;case"j2000":return n-2451545;case"gmst":return w.b(e);default:return e}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("j2000");return(23.439-4e-7*t)*Math.PI/180}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("j2000"),e=280.46+.9856474*t,n=357.528+.9856003*t,a=m(t);n=n%360*Math.PI/180;var i=e+1.915*Math.sin(n)+.02*Math.sin(2*n);i=i*Math.PI/180;var s=Math.atan2(Math.cos(a)*Math.sin(i),Math.cos(i)),r=Math.asin(Math.sin(a)*Math.sin(i));return[s,r]}var y=n.p+"static/media/earth_2k.981cc3e3.jpg";function b(t,e,n){var a=new d.q(1,60,60),i=new d.i({color:0,side:d.a}),r=new d.h(a,i);r.scale.set(100,100,100),t.add(r);var o=80,c=function(){var t=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("j2000")),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Math.cos(a)*Math.cos(n),r=Math.cos(a)*Math.sin(n),o=Math.sin(a);return[i,r,o]}(),h=Object(s.a)(c,3),u=h[0],l=h[1],v=h[2],w=new d.m(16777215,1);w.position.set(o*u,o*v,o*l),t.add(w);var m=new d.i,b=new d.h(a,m);b.scale.set(2,2,2),b.position.set(o*u,o*v,o*l),t.add(b);var M=[];M.push(new d.v(0,0,0)),M.push(b.position);var g=(new d.b).setFromPoints(M),O=new d.f,P=new d.e(g,O);t.add(P);var D=new d.j({map:j(y),metalness:.4,roughness:.8}),k=new d.h(a,D);k.rotation.set(0,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p("gmst");return-t+(t>Math.PI?1:-1)*Math.PI/2}(),0),t.add(k),function a(){requestAnimationFrame(a),n.render(t,e)}()}function j(t){return(new d.t).load(t)}var M=n(11),g=function(){function t(e,n,a,i,s,o){switch(Object(r.a)(this,t),this.raw_data=n,this.scale_factor=a,this.datapoints={},this.scene=i,this.camera=s,this.renderer=o,this.sphere_geometry=new d.q(.01,2,2),this.sphere_material=new d.i,this.createDataPointInteractions(this.scene,this.camera,this.renderer),this.raycaster=new d.o,this.intersects=[],this.type=e,this.type){case"satellite-tle":this.processTLEData()}this.renderDataPoints()}return Object(o.a)(t,[{key:"processTLEData",value:function(){for(var t=this.raw_data.split(/\r?\n/),e=new Date,n=0;n<(t.length-1)/3;n++){var a=3*n,i=w.d(t[a+1],t[a+2]),s=w.c(i,e);if(void 0!==s.position){var r=s.position,o=new d.v(r.x,r.z,r.y);o.multiplyScalar(this.scale_factor);var c=w.a(r,p("gmst")),h=new d.v(c.x,c.z,c.y);h.multiplyScalar(this.scale_factor);var u=new d.h(this.sphere_geometry,this.sphere_material.clone());u.position.copy(o),u.name=t[a],Math.abs(h.x)<.05?u.material.color=new d.c(16711680):Math.abs(h.y)<.05?u.material.color=new d.c(65280):u.material.color=new d.c(16777215);var l=new O(u);this.datapoints[t[a]]=l}}}},{key:"renderDataPoints",value:function(){for(var t in this.datapoints)this.scene.add(this.datapoints[t].mesh)}},{key:"highlightDataPoints",value:function(t,e,n,a){var i,s=Object(M.a)(this.intersects);try{for(s.s();!(i=s.n()).done;){var r=i.value;this.datapoints[r].mesh.material.color.set(16777215)}}catch(v){s.e(v)}finally{s.f()}this.intersects=[];var o=function(t){var e=new d.u;return e.x=t.clientX/window.innerWidth*2-1,e.y=-t.clientY/window.innerHeight*2+1,e}(t);this.raycaster.setFromCamera(o,n);var c,h=this.raycaster.intersectObjects(e.children),u=Object(M.a)(h);try{for(u.s();!(c=u.n()).done;){var l=c.value;""!==l.object.name&&(this.datapoints[l.object.name].mesh.material.color.set(16711680),this.intersects.push(l.object.name))}}catch(v){u.e(v)}finally{u.f()}this.intersects.length>0?document.body.style.cursor="pointer":document.body.style.cursor="default"}},{key:"createDataPointInteractions",value:function(t,e,n){var a=this;window.addEventListener("mousemove",(function(i){return a.highlightDataPoints(i,t,e,n)}),!1)}}]),t}(),O=function t(e){Object(r.a)(this,t),this.mesh=e},P=n.p+"static/media/test.73eab6d5.txt",D=n(13),k=function(t){Object(c.a)(n,t);var e=Object(h.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=function(t){var e=new d.p,n=new d.l(75,window.innerWidth/window.innerHeight,.1);n.position.copy(t);var a=new d.w;return a.setSize(window.innerWidth,window.innerHeight),a.shadowMap.enabled=!0,a.shadowMap.type=d.k,new v.a(n,a.domElement).update(),[e,n,a]}(new d.v(0,0,3)),e=Object(s.a)(t,3),n=e[0],a=e[1],i=e[2];this.mount.appendChild(i.domElement),b(n,a,i),fetch(P).then((function(t){return t.text()})).then((function(t){return new g("satellite-tle",t,1/6378,n,a,i)}))}},{key:"render",value:function(){var t=this;return Object(D.jsx)("div",{className:"app",ref:function(e){return t.mount=e}})}}]),n}(l.a.Component);n(24);i.a.render(Object(D.jsx)(k,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.359d2651.chunk.js.map